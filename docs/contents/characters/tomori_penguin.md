---
title: Tomoriä¼é¹… è¯¦ç»†èµ„æ–™
layout: default
hide:
  - navigation
  - toc
---

<!-- è¿”å›æŒ‰é’® -->
<div style="margin-bottom: 20px;">
    <a href="../../characters" style="display: inline-flex; align-items: center; text-decoration: none; color: var(--md-primary-fg-color);">
        <svg style="width: 20px; height: 20px; margin-right: 8px;" viewBox="0 0 24 24" fill="currentColor">
            <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
        </svg>
        è¿”å›è§’è‰²å›¾é‰´
    </a>
</div>

<div class="character-detail-container">
    <!-- å·¦ä¾§å›¾ç‰‡åŒºåŸŸ -->
    <div class="character-detail-image">
        <div class="fixed-image-section">
            <div class="main-image" onclick="openImageModal('main', this)">
                <img src="https://aidoll-1392936919.cos.ap-guangzhou.myqcloud.com/images/characters/tomori_penguin.png" 
                     alt="<è§’è‰²å> ä¸»å›¾" 
                     id="mainCharacterImage"
                     loading="eager">
            </div>
        
            <!-- ç¼©ç•¥å›¾å›¾é›† -->
            <div class="thumbnail-gallery">
                <div class="thumbnail active" data-image="https://aidoll-1392936919.cos.ap-guangzhou.myqcloud.com/images/characters/tomori_penguin.png">
                    <img src="https://aidoll-1392936919.cos.ap-guangzhou.myqcloud.com/images/characters/tomori_penguin.png" alt="ä¸»å›¾">
                </div>
                <div class="thumbnail" data-image="https://aidoll-1392936919.cos.ap-guangzhou.myqcloud.com/images/characters/tomori_penguin/pic1.png">
                    <img src="https://aidoll-1392936919.cos.ap-guangzhou.myqcloud.com/images/characters/tomori_penguin/pic1.png" alt="å­å›¾1">
                </div>
                <div class="thumbnail" data-image="https://aidoll-1392936919.cos.ap-guangzhou.myqcloud.com/images/characters/tomori_penguin/pic2.png">
                    <img src="https://aidoll-1392936919.cos.ap-guangzhou.myqcloud.com/images/characters/tomori_penguin/pic2.png" alt="å­å›¾2">
                </div>
            </div>
        </div>
    
        <!-- å›ºå®šå›¾é›†å¡ç‰‡ -->
        <div class="gallery-card">
            <div class="gallery-nav" id="galleryPrev">
                <span>&lt;</span>
            </div>
            <div class="gallery-image-container" onclick="openImageModal('gallery', this)">
                <img src="https://aidoll-1392936919.cos.ap-guangzhou.myqcloud.com/images/characters/tomori_penguin/others_1.png" 
                     alt="å›¾é›†å›¾ç‰‡" 
                     id="galleryImage"
                     class="gallery-image">
                <div class="gallery-signature" id="gallerySignature">å…¶å®ƒå½¢è±¡1(å¾…ç½²å)</div>
            </div>
            <div class="gallery-nav" id="galleryNext">
                <span>&gt;</span>
            </div>
        </div>
    </div>

    <!-- å³ä¾§ä¿¡æ¯åŒºåŸŸ -->
    <div class="character-detail-info">
        <div class="character-header">
            <h1 class="character-title">Tomoriä¼é¹…</h1>
            <div class="character-tags">
                <span class="tag primary">Tomoriç³»</span>
                <span class="tag secondary">ä¼é¹…ç§‘</span>
                <span class="tag accent">æ£‰èŠ±ç”Ÿç‰©</span>
                <span class="tag">å®‰é™å‹</span>
            </div>
        </div>
        
        <!-- åŸºæœ¬ä¿¡æ¯è¡¨ -->
        <div class="info-table">
            <table>
                <tr>
                    <th>ç‰©ç§ç±»å‹</th>
                    <td>æ£‰èŠ±ä¼é¹…å‹ç”Ÿç‰©</td>
                </tr>
                <tr>
                    <th>æ¯›è‰²</th>
                    <td>é»‘ç™½å¤–æ¯›çš®ï¼Œå‘è‰²ä¸ºç°ï¼Ÿç´«ï¼Ÿéš¾è¯´</td>
                </tr>
                <tr>
                    <th>é¦–æ¬¡å‘ç°</th>
                    <td>2025å¹´xæœˆxæ—¥</td>
                </tr>
                <tr>
                    <th>å¸¸è§å‡ºæ²¡åœ°</th>
                    <td>è·¯è¾¹çš„è‰ä¸›ä¸­ï¼Œè¡—ä¸Šï¼Œå—æ</td>
                </tr>
                <tr>
                    <th>ä¸»è¦å…³è”è§’è‰²</th>
                    <td>
                        <a href="../anon_dog" class="character-link-small">AnonçŠ¬</a>
                        <a href="../soyo_fox" class="character-link-small">Soyoç‹¸</a>
                        <a href="../rana_cat" class="character-link-small">SakiçŒ«</a>
                        <a href="../taki_wolf" class="character-link-small">Takiç‹¼</a>
                        <a href="../mutsumi_rabbit" class="character-link-small">Mutsumiå…”</a>
                    </td>
                </tr>
                <tr>
                    <th>å±é™©ç­‰çº§</th>
                    <td><span class="danger-level medium">â˜…â˜…â˜…â˜†â˜†</span></td>
                </tr>
            </table>
        </div>
        
        <!-- å¿«é€Ÿæè¿° -->
        <div class="quick-description">
            <h3>ç®€ä»‹</h3>
            <p>æ£‰èŠ±å°ä¼é¹…ï¼Œæ˜¯MyGO!!!!!ä¹é˜Ÿçš„ä¸»å”±......å—ï¼Ÿéƒ¨åˆ†ä¸ªä½“å®‰é™å¯çˆ±å†…å‘æ¸©æŸ”ï¼Œä½†æ˜¯ä¹Ÿæœ‰éƒ¨åˆ†ä¸ªä½“ç–‘ä¼¼ç²¾ç¥æœ‰é—®é¢˜(<del>ä¸è¦æŠ¢å®ƒä»¬çš„çŸ³å¤´</del>)ï¼Œä¼šå’•å’•å˜å˜åœ°å«ã€‚</p>
        </div>
        
        <!-- ç‰¹æ€§æŒ‡æ ‡ -->
        <div class="character-stats">
            <h3>èƒ½åŠ›æŒ‡æ ‡</h3>
            <div class="stat-bars">
                <div class="stat-item">
                    <div class="stat-label">æ´»æ³¼åº¦</div>
                    <div class="stat-bar">
                        <div class="stat-fill" style="width: 30%;"></div>
                    </div>
                    <div class="stat-value">3/10</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">æƒ…ç»ªæ³¢åŠ¨</div>
                    <div class="stat-bar">
                        <div class="stat-fill" style="width: 60%;"></div>
                    </div>
                    <div class="stat-value">6/10</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">ç ´ååŠ›</div>
                    <div class="stat-bar">
                        <div class="stat-fill" style="width: 70%;"></div>
                    </div>
                    <div class="stat-value">7/10</div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- è¯¦ç»†ä¿¡æ¯åŒºåŸŸ -->
<div class="detail-sections">
    <!-- ä¹ æ€§ç‰¹å¾ -->
    <section class="detail-section">
        <h2>ä¹ æ€§ç‰¹å¾</h2>
        <div class="section-content">
            <h3>é¥®é£Ÿåå¥½</h3>
            <ul>
                <li><strong>æœ€çˆ±é£Ÿç‰©ï¼š</strong>åƒèŠ±å’Œæ˜Ÿæ˜Ÿçš„å°ç³–æœ</li>
                <li><strong>å¸¸é¥®é¥®å“ï¼š</strong>éš¾è¯´</li>
                <li><strong>ç‰¹æ®Šä¹ æƒ¯ï¼š</strong>ä¸åƒanonçŠ¬é‚£æ ·åƒé¥­ä¹Ÿä¸æ¶ˆåœï¼Œé€šå¸¸è¿˜æ˜¯æ­£å¸¸è¿›é£Ÿçš„ï¼Œå°‘éƒ¨åˆ†æ—¶å€™...çœ‹åˆ°ç†Ÿé£Ÿä¼šå®•æœºå’•å˜å¤§å«è·‘èµ°ã€‚</li>
            </ul>
            
            <h3>è¡Œä¸ºæ¨¡å¼</h3>
            <div class="behavior-patterns">
                <div class="pattern-card">
                    <div class="pattern-icon">ğŸ©¹</div>
                    <div class="pattern-content">
                        <h4>æ”¶é›†ç™–</h4>
                        <p>å“ªæ€•å˜æˆä¼é¹…ä¹Ÿè¦æ”¶é›†çŸ³å¤´å’Œåˆ›å£è´´å—ï¼Œå“ˆåŸºç¯ä½ è¿™å®¶ä¼™...</p>
                    </div>
                </div>
                <div class="pattern-card">
                    <div class="pattern-icon">ğŸ§</div>
                    <div class="pattern-content">
                        <h4>å’•å’•å˜å˜</h4>
                        <p>ç‚¹å‡»è¾“å…¥å’•å˜</p>
                    </div>
                </div>
                <div class="pattern-card">
                    <div class="pattern-icon">ğŸ¤</div>
                    <div class="pattern-content">
                        <h4>éŸ³ä¹</h4>
                        <p>ä¸åŒäºç²¾ç¥å¤±å¸¸æ—¶çš„å’•å’•å˜å˜å«ï¼ŒTomoriä¼é¹…æ²‰æµ¸äºæ¼”å”±æ—¶ï¼Œæ­Œå£°åŠ¨å¬ï¼Œè·¯è¿‡çš„äººåŸºæœ¬ä¼šä¸ºå…¶é©»ç•™ã€‚ä¸è¿‡ä¹Ÿæ›¾å› å’•å’•å˜å˜å«åå¬åˆ°åˆ«äººçš„å¤§ç¬‘è€Œæ„Ÿåˆ°æ€¯æ‡¦ï¼Œç¾äºæ¼”å”±ã€‚</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- èƒŒæ™¯æ•…äº‹ -->
    <section class="detail-section">
        <h2>èƒŒæ™¯æ•…äº‹</h2>
        <div class="section-content">
            <p>Tomoriä¼é¹…é¦–æ¬¡è¢«å‘ç°äºå—æï¼Œç§‘è€ƒå‘˜æœ€åˆçœ‹èƒŒå½±ä»¥ä¸ºæ˜¯æ™®é€šçš„ä¼é¹…ï¼Œç›´åˆ°å®ƒä¸€æ‰‹æ‹¿ç€ç»¿è‰²ç¬”è®°æœ¬ä¸€æ‰‹æ‹¿ç€çŸ³å¤´å¥½å¥‡åœ°è½¬èº«ã€‚</p>
            
            <div class="timeline">
                <div class="timeline-item">
                    <div class="timeline-date">2025å¹´3æœˆ</div>
                    <div class="timeline-content">
                        <h4>åˆæ¬¡å‘ç°</h4>
                        <p>é¦–æ¬¡è¢«å‘ç°äºå—æï¼Œä½†æ˜¯åæ¥ä¹Ÿæœ‰éƒ¨åˆ†ä¸ªä½“ä¸çŸ¥ä¸ºä½•å‡ºç°åœ¨ç¾½ä¸˜å¥³å­å­¦å›­çš„å‘¨è¾¹ï¼Œä¼ªè£…æˆäº†çŸ³å¤´è¢«è·¯äººåä¸‹æ­‡è„š...</p>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">è¯·è¾“å…¥æ—¶é—´</div>
                    <div class="timeline-content">
                        <h4>è¯·è¾“å…¥æ ‡é¢˜</h4>
                        <p>è¯·è¾“å…¥æ–‡æœ¬</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- ä¸å…¶ä»–è§’è‰²çš„å…³ç³» -->
    <section class="detail-section">
        <h2>è§’è‰²å…³ç³»</h2>
        <div class="section-content">
            <div class="relationship-grid">
                <a href="../anon_dog" class="relationship-card">
                    <div class="rel-avatar">
                        <img src="https://aidoll-1392936919.cos.ap-guangzhou.myqcloud.com/images/characters/anon_dog.png" alt="AnonçŠ¬">
                    </div>
                    <div class="rel-info">
                        <h4>AnonçŠ¬</h4>
                        <p class="rel-type">é‡è¦æœ‹å‹</p>
                        <p class="rel-desc">å®ƒä»¬ç»å¸¸ä¸€èµ·è¡ŒåŠ¨ï¼Œä½†æ˜¯Tomoriä¼é¹…çš„åŠ¨ä½œç¬¨æ‹™ï¼Œå¸¸å¸¸æ˜¾å¾—AnonçŠ¬æœ‰å¤šåŠ¨ç—‡ã€‚</p>
                    </div>
                </a>
                
                <a href="../saki_cat" class="relationship-card">
                    <div class="rel-avatar">
                        <img src="https://aidoll-1392936919.cos.ap-guangzhou.myqcloud.com/images/characters/saki_cat.png" alt="SakiçŒ«">
                    </div>
                    <div class="rel-info">
                        <h4>SakiçŒ«</h4>
                        <p class="rel-type">é‡è¦æœ‹å‹</p>
                        <p class="rel-desc">Tomoriä¼é¹…ä¼¼ä¹æ€»æ˜¯åœ¨å®ƒçš„ç¬”è®°æœ¬ä¸Šå†™å†™ç”»ç”»ï¼Œå¶é‡åˆ°SakiçŒ«æ—¶æ€»ä¼šæƒ³ä¸Šå‰ç»™å®ƒçœ‹ã€‚</p>
                    </div>
                </a>
            </div>
        </div>
    </section>
    
    <!-- è¶£é—»è½¶äº‹ -->
    <section class="detail-section">
        <h2>è¶£é—»è½¶äº‹</h2>
        <div class="section-content">
            <div class="anecdotes">
                <div class="anecdote">
                    <h4>ğŸª¨ çˆ†è£…å¤‡</h4>
                    <p>Tomoriä¼é¹…èµ°è·¯ç¬¨æ‹™ï¼Œè¢«ä¸æ€€å¥½æ„çš„äººç±»åŸ‹ä¼ç»Šå€’ï¼Œç»“æœçˆ†äº†ä¸€åœ°çŸ³å¤´...</p>
                </div>
                <div class="anecdote">
                    <h4>è¯·è¾“å…¥æ ‡é¢˜</h4>
                    <p>è¯·è¾“å…¥æ–‡æœ¬</p>
                </div>
            </div>
        </div>
    </section>

    <!-- è®¾å®šé›†æ¿å— -->
    <section class="detail-section">
        <h2>è®¾å®šé›†</h2>
        <div class="section-content">
            <div class="settings-collection">
                <!-- è½®æ’­å¯¼èˆªæŒ‰é’® -->
                <div class="settings-nav prev" onclick="changeSettingCard(-1)">
                    <span>&lt;</span>
                </div>
                
                <!-- è®¾å®šå¡ç‰‡å®¹å™¨ -->
                <div class="settings-container">
                    <!-- è®¾å®šå¡ç‰‡å°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
                </div>
                
                <div class="settings-nav next" onclick="changeSettingCard(1)">
                    <span>&gt;</span>
                </div>
                
                <!-- å¡ç‰‡æŒ‡ç¤ºå™¨ -->
                <div class="settings-indicator">
                    <span class="current-card">1</span> / <span class="total-cards">3</span>
                </div>
            </div>
        </div>
    </section>
</div>

<!-- å›¾ç‰‡æ”¾å¤§æ¨¡æ€æ¡† -->
<div id="imageModal" class="image-modal">
    <div class="modal-overlay" onclick="closeImageModal()"></div>
    <div class="modal-content">
        <button class="close-button" onclick="closeImageModal()">Ã—</button>
        <div class="modal-nav" onclick="changeImage(-1)">&lt;</div>
        <div class="modal-image-container">
            <img id="modalImage" src="" alt="æ”¾å¤§å›¾ç‰‡">
            <div class="modal-signature" id="modalSignature"></div>
        </div>
        <div class="modal-nav" onclick="changeImage(1)">&gt;</div>
    </div>
</div>


<style>
/* è¯¦æƒ…é¡µé¢æ ·å¼ */
.character-detail-container {
    display: grid;
    grid-template-columns: 350px 1fr;
    gap: 40px;
    margin-bottom: 40px;
}

@media (max-width: 900px) {
    .character-detail-container {
        grid-template-columns: 1fr;
    }
}

/* å›¾ç‰‡åŒºåŸŸ */
.character-detail-image {
    top: 20px;
    align-self: start;
    display: flex;
    flex-direction: column;
}

.fixed-image-section {
    top: 20px;
}

.main-image {
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 6px 20px rgba(0,0,0,0.1);
    margin-bottom: 15px;
    cursor: pointer;
    transition: transform 0.3s ease;
}

.main-image:hover {
    transform: scale(1.02);
}

.main-image img {
    width: 100%;
    height: auto;
    display: block;
}

.thumbnail-gallery {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
    margin-bottom: 20px;
}

.thumbnail {
    border-radius: 8px;
    overflow: hidden;
    cursor: pointer;
    opacity: 0.6;
    transition: all 0.3s ease;
    border: 2px solid transparent;
}

.thumbnail:hover {
    opacity: 0.8;
    transform: translateY(-2px);
}

.thumbnail.active {
    opacity: 1;
    border-color: var(--md-primary-fg-color);
}

.thumbnail img {
    width: 100%;
    height: 80px;
    object-fit: cover;
}

/* å›ºå®šå›¾é›†å¡ç‰‡ */
.gallery-card {
    display: flex;
    align-items: center;
    gap: 10px;
    background: var(--md-default-bg-color);
    border-radius: 12px;
    padding: 15px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    border: 1px solid var(--md-default-fg-color--lightest);
}

.gallery-nav {
    width: 30px;
    height: 180px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 8px;
    background: rgba(64, 158, 255, 0.2);
    color: white;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s ease;
    flex-shrink: 0;
    user-select: none;
}

.gallery-nav:hover {
    background: rgba(64, 158, 255, 0.4);
    transform: scale(1.05);
}

.gallery-image-container {
    flex: 1;
    border-radius: 8px;
    overflow: hidden;
    cursor: pointer;
    transition: transform 0.3s ease;
}

.gallery-image-container:hover {
    transform: scale(1.02);
}

.gallery-image {
    width: 100%;
    height: auto;
    display: block;
    transition: opacity 0.3s ease;
}

/* ç½²åæ ·å¼ */
.gallery-signature {
    text-align: center;
    margin-top: 10px;
    font-size: 0.9em;
    color: var(--md-default-fg-color--light);
}

/* ä¿¡æ¯åŒºåŸŸ */
.character-header {
    margin-bottom: 25px;
}

.character-title {
    font-size: 2.2em;
    margin: 0 0 10px 0;
    color: var(--md-primary-fg-color);
}

.character-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
}

.tag {
    display: inline-block;
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 0.85em;
    font-weight: 500;
}

.tag.primary {
    background: var(--md-primary-fg-color--light);
    color: white;
}

.tag.secondary {
    background: var(--md-accent-fg-color--transparent);
    color: var(--md-accent-fg-color);
}

.tag.accent {
    background: rgba(100, 200, 255, 0.1);
    color: #64c8ff;
}

/* ä¿¡æ¯è¡¨æ ¼ */
.info-table {
    background: var(--md-default-bg-color--light);
    border-radius: 10px;
    padding: 20px;
    margin-bottom: 25px;
    border: 1px solid var(--md-default-fg-color--lightest);
}

.info-table table {
    width: 100%;
    border-collapse: collapse;
}

.info-table th {
    text-align: left;
    padding: 8px 0;
    width: 120px;
    color: var(--md-default-fg-color--light);
    font-weight: 500;
    font-size: 0.9em;
}

.info-table td {
    padding: 8px 0;
    border-bottom: 1px solid var(--md-default-fg-color--lightest);
}

.info-table tr:last-child td {
    border-bottom: none;
}

.character-link-small {
    display: inline-flex;
    align-items: center;
    padding: 3px 8px;
    background: var(--md-default-bg-color);
    border-radius: 6px;
    text-decoration: none;
    color: var(--md-primary-fg-color);
    font-size: 0.85em;
    margin-right: 5px;
    transition: all 0.2s ease;
}

.character-link-small:hover {
    background: var(--md-primary-fg-color--light);
    color: white;
    transform: translateY(-1px);
}

.danger-level {
    display: inline-block;
    padding: 2px 8px;
    border-radius: 4px;
    font-weight: bold;
}

.danger-level.safe {
    background: rgba(100, 255, 100, 0.15);
    color: #00cc44;
    border: 1px solid rgba(0, 204, 68, 0.3);
}

.danger-level.low {
    background: rgba(100, 255, 100, 0.1);
    color: #64ff64;
}

.danger-level.medium {
    background: rgba(255, 204, 0, 0.15);
    color: #ffcc00;
    border: 1px solid rgba(255, 204, 0, 0.3);
}

.danger-level.high {
    background: rgba(255, 102, 102, 0.15);
    color: #ff6666;
    border: 1px solid rgba(255, 102, 102, 0.3);
}

.danger-level.extreme {
    background: rgba(204, 0, 0, 0.15);
    color: #cc0000;
    border: 1px solid rgba(204, 0, 0, 0.3);
}

/* èƒ½åŠ›æŒ‡æ ‡ */
.character-stats {
    margin: 25px 0;
}

.stat-bars {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.stat-item {
    display: grid;
    grid-template-columns: 100px 1fr 50px;
    align-items: center;
    gap: 15px;
}

.stat-label {
    font-size: 0.9em;
    color: var(--md-default-fg-color--light);
}

.stat-bar {
    height: 8px;
    background: var(--md-default-fg-color--lightest);
    border-radius: 4px;
    overflow: hidden;
}

.stat-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--md-primary-fg-color), var(--md-accent-fg-color));
    border-radius: 4px;
    transition: width 1s ease;
}

.stat-value {
    text-align: right;
    font-family: monospace;
    font-weight: bold;
    color: var(--md-primary-fg-color);
}

/* è¯¦ç»†ä¿¡æ¯åŒºåŸŸ */
.detail-sections {
    margin-top: 40px;
}

.detail-section {
    margin-bottom: 40px;
    padding-bottom: 30px;
    border-bottom: 1px solid var(--md-default-fg-color--lightest);
}

.detail-section:last-child {
    border-bottom: none;
}

.detail-section h2 {
    font-size: 1.5em;
    margin-bottom: 20px;
    color: var(--md-primary-fg-color);
    display: flex;
    align-items: center;
}

.detail-section h2::before {
    content: "";
    display: inline-block;
    width: 4px;
    height: 20px;
    background: var(--md-primary-fg-color);
    margin-right: 10px;
    border-radius: 2px;
}

.section-content h3 {
    font-size: 1.1em;
    margin: 20px 0 10px 0;
    color: var(--md-default-fg-color);
}

/* è¡Œä¸ºæ¨¡å¼å¡ç‰‡ */
.behavior-patterns {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin: 20px 0;
}

.pattern-card {
    background: var(--md-default-bg-color);
    border: 1px solid var(--md-default-fg-color--lightest);
    border-radius: 10px;
    padding: 15px;
    display: flex;
    align-items: flex-start;
    gap: 12px;
    transition: transform 0.3s ease;
}

.pattern-card:hover {
    transform: translateY(-3px);
    border-color: var(--md-primary-fg-color--light);
}

.pattern-icon {
    font-size: 1.5em;
    flex-shrink: 0;
}

.pattern-content h4 {
    margin: 0 0 5px 0;
    font-size: 1em;
}

.pattern-content p {
    margin: 0;
    font-size: 0.9em;
    color: var(--md-default-fg-color--light);
    line-height: 1.4;
}

/* æ—¶é—´çº¿ */
.timeline {
    position: relative;
    margin: 20px 0;
    padding-left: 20px;
}

.timeline::before {
    content: "";
    position: absolute;
    left: 6px;
    top: 0;
    bottom: 0;
    width: 2px;
    background: var(--md-primary-fg-color--light);
}

.timeline-item {
    position: relative;
    margin-bottom: 25px;
}

.timeline-item:last-child {
    margin-bottom: 0;
}

.timeline-item::before {
    content: "";
    position: absolute;
    left: -22px;
    top: 5px;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: var(--md-primary-fg-color);
    border: 2px solid white;
    box-shadow: 0 0 0 2px var(--md-primary-fg-color);
}

.timeline-date {
    font-weight: bold;
    color: var(--md-primary-fg-color);
    margin-bottom: 5px;
}

.timeline-content h4 {
    margin: 0 0 5px 0;
    font-size: 1em;
}

.timeline-content p {
    margin: 0;
    font-size: 0.95em;
    color: var(--md-default-fg-color--light);
}

/* è§’è‰²å…³ç³»ç½‘æ ¼ */
.relationship-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 15px;
    margin-top: 15px;
}

.relationship-card {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 15px;
    background: var(--md-default-bg-color);
    border-radius: 10px;
    text-decoration: none;
    color: inherit;
    border: 1px solid var(--md-default-fg-color--lightest);
    transition: all 0.3s ease;
}

.relationship-card:hover {
    border-color: var(--md-primary-fg-color);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.rel-avatar {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    overflow: hidden;
    flex-shrink: 0;
}

.rel-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.rel-info h4 {
    margin: 0 0 4px 0;
    color: var(--md-primary-fg-color);
    font-size: 1em;
}

.rel-type {
    font-size: 0.8em;
    color: var(--md-default-fg-color--light);
    margin-bottom: 5px;
}

.rel-desc {
    font-size: 0.85em;
    color: var(--md-default-fg-color--light);
    line-height: 1.4;
    margin: 0;
}

/* è¶£é—»è½¶äº‹ */
.anecdotes {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.anecdote {
    background: var(--md-default-bg-color);
    border-left: 4px solid var(--md-accent-fg-color);
    padding: 15px;
    border-radius: 0 8px 8px 0;
}

.anecdote h4 {
    margin: 0 0 8px 0;
    font-size: 1em;
    display: flex;
    align-items: center;
    gap: 8px;
}

.anecdote p {
    margin: 0;
    font-size: 0.95em;
    color: var(--md-default-fg-color--light);
    line-height: 1.5;
}

/* é¡µè„šå¯¼èˆª */
.character-footer-nav {
    display: flex;
    justify-content: space-between;
    margin-top: 40px;
    padding-top: 20px;
    border-top: 1px solid var(--md-default-fg-color--lightest);
}

.prev-character,
.next-character {
    flex: 1;
}

.next-character {
    text-align: right;
}

.prev-character a,
.next-character a {
    display: inline-flex;
    align-items: center;
    text-decoration: none;
    color: var(--md-default-fg-color);
    padding: 10px;
    border-radius: 8px;
    transition: all 0.3s ease;
}

.prev-character a:hover,
.next-character a:hover {
    background: var(--md-default-bg-color--light);
    color: var(--md-primary-fg-color);
}

.nav-label {
    font-size: 0.9em;
    color: var(--md-default-fg-color--light);
}

.nav-name {
    font-weight: 500;
    margin-left: 10px;
}

.next-character .nav-name {
    margin-left: 0;
    margin-right: 10px;
}

/* å…³é—­æŒ‰é’®æ ·å¼ */
.close-button {
    position: absolute;
    top: 15px;
    right: 15px;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: rgba(0, 0, 0, 0.5);
    color: white;
    font-size: 24px;
    font-weight: bold;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1001; /* ç¡®ä¿åœ¨æ¨¡æ€æ¡†å†…å®¹ä¹‹ä¸Š */
    transition: all 0.3s ease;
}

.close-button:hover {
    background: rgba(0, 0, 0, 0.8);
    transform: scale(1.1);
}

/* è®¾å®šé›†æ ·å¼ */
.settings-collection {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 20px;
    margin-top: 20px;
    padding: 20px 0;
}

.settings-nav {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--md-primary-fg-color--light);
    color: white;
    border-radius: 50%;
    cursor: pointer;
    font-weight: bold;
    font-size: 1.2em;
    transition: all 0.3s ease;
    flex-shrink: 0;
    user-select: none;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

.settings-nav:hover {
    background: var(--md-primary-fg-color);
    transform: scale(1.1);
}

.settings-container {
    width: 600px;
    min-height: 300px;
    position: relative;
}

.settings-card {
    background: var(--md-default-bg-color);
    border-radius: 16px;
    box-shadow: 0 8px 24px rgba(0,0,0,0.12);
    overflow: hidden;
    transition: all 0.4s ease;
    border: 1px solid var(--md-default-fg-color--lightest);
}

/* æŠ˜å çŠ¶æ€æ ·å¼ */
.settings-card.collapsed {
    padding: 25px;
}

.settings-content.collapsed {
    display: flex;
    gap: 25px;
    align-items: center;
}

.settings-image {
    flex-shrink: 0;
    width: 140px;
    height: 140px;
    border-radius: 20px;
    overflow: hidden;
    border: 4px solid rgba(100, 200, 255, 0.2);
    box-shadow: 0 6px 16px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
}

.settings-image:hover {
    transform: scale(1.02);
    border-color: var(--md-primary-fg-color--light);
}

.settings-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.settings-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.setting-name {
    font-size: 1.3em;
    font-weight: 600;
    color: var(--md-primary-fg-color);
    margin: 0;
}

.setting-author {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 0.95em;
    color: var(--md-default-fg-color--light);
}

.author-link {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    color: var(--md-primary-fg-color);
    text-decoration: none;
    padding: 4px 10px;
    background: rgba(64, 158, 255, 0.1);
    border-radius: 20px;
    transition: all 0.2s ease;
}

.author-link:hover {
    background: rgba(64, 158, 255, 0.2);
    transform: translateY(-1px);
}

.platform-icon-img {
    width: 16px;
    height: 16px;
    vertical-align: middle;
    margin-right: 4px;
}

.setting-intro {
    font-size: 0.9em;
    color: var(--md-default-fg-color);
    line-height: 1.5;
    margin: 5px 0 0 0;
}

/* å±•å¼€æŒ‰é’® */
.expand-button {
    display: block;
    margin: 25px auto 0;
    padding: 8px 24px;
    background: linear-gradient(135deg, var(--md-primary-fg-color), var(--md-accent-fg-color));
    color: white;
    border: none;
    border-radius: 25px;
    font-size: 0.9em;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(64, 158, 255, 0.3);
}

.expand-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(64, 158, 255, 0.4);
}

/* å±•å¼€çŠ¶æ€æ ·å¼ */
.settings-card.expanded {
    padding: 0;
}

.settings-content.expanded {
    padding: 25px;
}

.expanded-top {
    display: flex;
    gap: 25px;
    align-items: center;
    padding-bottom: 20px;
    border-bottom: 1px solid var(--md-default-fg-color--lightest);
    margin-bottom: 20px;
}

.expanded-detail {
    padding: 20px 0;
}

.detail-content {
    font-size: 0.95em;
    line-height: 1.6;
    color: var(--md-default-fg-color);
}

.detail-content h4 {
    color: var(--md-primary-fg-color);
    margin: 20px 0 10px 0;
    font-size: 1.1em;
}

.detail-content p {
    margin: 10px 0;
}

.detail-content ul {
    margin: 10px 0;
    padding-left: 20px;
}

.detail-content li {
    margin: 5px 0;
}

/* æ”¶èµ·æŒ‰é’® */
.collapse-button {
    display: block;
    margin: 20px auto 0;
    padding: 8px 24px;
    background: var(--md-default-bg-color--light);
    color: var(--md-default-fg-color);
    border: 1px solid var(--md-default-fg-color--lightest);
    border-radius: 25px;
    font-size: 0.9em;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
}

.collapse-button:hover {
    background: var(--md-default-fg-color--lightest);
    transform: translateY(-2px);
}

/* å¡ç‰‡æŒ‡ç¤ºå™¨ */
.settings-indicator {
    position: absolute;
    bottom: -30px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 0.9em;
    color: var(--md-default-fg-color--light);
    background: var(--md-default-bg-color);
    padding: 4px 12px;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.current-card {
    color: var(--md-primary-fg-color);
    font-weight: bold;
}

/* è®¾å®šé›†å›¾ç‰‡ç‚¹å‡»æ•ˆæœ */
.settings-image {
    flex-shrink: 0;
    width: 140px;
    height: 140px;
    border-radius: 20px;
    overflow: hidden;
    border: 4px solid rgba(100, 200, 255, 0.2);
    box-shadow: 0 6px 16px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
    cursor: pointer; /* æ·»åŠ æŒ‡é’ˆæ ·å¼ */
}

.settings-image:hover {
    transform: scale(1.02);
    border-color: var(--md-primary-fg-color--light);
    box-shadow: 0 8px 20px rgba(0,0,0,0.15); /* å¢å¼ºæ‚¬åœæ•ˆæœ */
}

/* ç‚¹å‡»æ€åé¦ˆ */
.settings-image:active {
    transform: scale(0.98);
    transition: transform 0.1s ease;
}

/* å±•å¼€çŠ¶æ€ä¸‹çš„å›¾ç‰‡æ ·å¼ */
.expanded-top .settings-image {
    width: 180px;
    height: 180px;
}

@media (max-width: 768px) {
    .settings-image {
        width: 120px;
        height: 120px;
    }
    .expanded-top .settings-image {
        width: 150px;
        height: 150px;
    }
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
    .settings-collection {
        flex-direction: column;
        gap: 15px;
    }
    
    .settings-container {
        width: 100%;
    }
    
    .settings-nav {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        z-index: 10;
    }
    
    .settings-nav.prev {
        left: 10px;
    }
    
    .settings-nav.next {
        right: 10px;
    }
    
    .settings-content.collapsed,
    .expanded-top {
        flex-direction: column;
        text-align: center;
    }
    
    .settings-image {
        width: 120px;
        height: 120px;
    }
    
    .setting-author {
        justify-content: center;
    }
}

/* å“åº”å¼è°ƒæ•´ */
@media (max-width: 768px) {
    .character-title {
        font-size: 1.8em;
    }
    
    .stat-item {
        grid-template-columns: 80px 1fr 50px;
        gap: 10px;
    }
    
    .thumbnail img {
        height: 60px;
    }
    
    .behavior-patterns {
        grid-template-columns: 1fr;
    }
    
    .character-footer-nav {
        flex-direction: column;
        gap: 15px;
    }
    
    .next-character {
        text-align: left;
    }
    
    .gallery-card {
        flex-direction: column;
        gap: 10px;
    }
    
    .gallery-nav {
        width: 180px;
        height: 30px;
        align-self: center;
    }
}

/* å›¾ç‰‡æ”¾å¤§æ¨¡æ€æ¡†æ ·å¼ */
.image-modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1000;
}

.modal-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
}

.modal-content {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    display: flex;
    align-items: center;
    justify-content: center;
    width: 90%;
    height: 90%;
}

.modal-nav {
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 0, 0.5);
    color: white;
    font-size: 24px;
    font-weight: bold;
    border-radius: 50%;
    cursor: pointer;
    user-select: none;
    transition: all 0.3s ease;
}

.modal-nav:hover {
    background: rgba(0, 0, 0, 0.8);
    transform: scale(1.1);
}

.modal-image-container {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    max-height: 100%;
    padding: 0 20px;
}

.modal-image-container img {
    max-width: 100%;
    max-height: 80vh;
    object-fit: contain;
    border-radius: 8px;
}

.modal-signature {
    margin-top: 15px;
    text-align: center;
    font-size: 1.1em;
    color: white;
    max-width: 100%;
}
</style>

<script>
// ç¼©ç•¥å›¾åˆ‡æ¢
document.addEventListener('DOMContentLoaded', function() {
    const thumbnails = document.querySelectorAll('.thumbnail');
    const mainImage = document.getElementById('mainCharacterImage');
    
    thumbnails.forEach(thumb => {
        thumb.addEventListener('click', function() {
            // ç§»é™¤æ‰€æœ‰æ¿€æ´»çŠ¶æ€
            thumbnails.forEach(t => t.classList.remove('active'));
            
            // æ¿€æ´»å½“å‰ç¼©ç•¥å›¾
            this.classList.add('active');
            
            // æ›´æ–°ä¸»å›¾
            const newImage = this.getAttribute('data-image');
            const newSignature = this.getAttribute('data-signature');
            if (newImage && newImage !== mainImage.src) {
                // æ·»åŠ æ·¡å‡ºæ•ˆæœ
                mainImage.style.opacity = '0.5';
                mainImage.style.transition = 'opacity 0.3s ease';
                
                setTimeout(() => {
                    mainImage.src = newImage;
                    mainImage.style.opacity = '1';
                }, 150);
            }
        });
    });
    
    // æ‚¬åœé¢„è§ˆï¼ˆå¯é€‰åŠŸèƒ½ï¼‰
    thumbnails.forEach(thumb => {
        thumb.addEventListener('mouseenter', function() {
            if (!this.classList.contains('active')) {
                this.style.transform = 'scale(1.05)';
            }
        });
        
        thumb.addEventListener('mouseleave', function() {
            if (!this.classList.contains('active')) {
                this.style.transform = 'scale(1)';
            }
        });
    });
    
    // å›¾é›†åˆ‡æ¢åŠŸèƒ½
    const galleryImage = document.getElementById('galleryImage');
    const gallerySignature = document.getElementById('gallerySignature');
    const galleryPrev = document.getElementById('galleryPrev');
    const galleryNext = document.getElementById('galleryNext');
    
    // å›¾é›†å›¾ç‰‡æ•°ç»„ï¼ˆè¿™é‡Œä½¿ç”¨ç¤ºä¾‹å›¾ç‰‡ï¼Œå®é™…åº”ç”¨ä¸­å¯ä»¥åŠ¨æ€åŠ è½½ï¼‰
    const galleryImages = [
        {src: "https://aidoll-1392936919.cos.ap-guangzhou.myqcloud.com/images/characters/tomori_penguin/others_1.png", signature: "å…¶å®ƒå½¢è±¡1(å¾…ç½²å)"},
        {src: "https://aidoll-1392936919.cos.ap-guangzhou.myqcloud.com/images/characters/tomori_penguin/others_2.png", signature: "å…¶å®ƒå½¢è±¡2(å¾…ç½²å)"},
        {src: "https://aidoll-1392936919.cos.ap-guangzhou.myqcloud.com/images/characters/tomori_penguin/others_3.png", signature: "å…¶å®ƒå½¢è±¡3(å¾…ç½²å)"}
    ];
    
    let currentGalleryIndex = 0;
    
    function updateGalleryImage() {
        galleryImage.style.opacity = '0.5'; // æ·¡å‡ºæ•ˆæœ
        galleryImage.onload = () => {
            galleryImage.style.opacity = '1'; // åŠ è½½å®Œæˆåå†æ·¡å…¥
        };
        galleryImage.onerror = () => {
            galleryImage.src = 'https://via.placeholder.com/300x300.png'; // åŠ è½½å¤±è´¥æ—¶çš„å ä½å›¾
            galleryImage.style.opacity = '1';
        };
        galleryImage.src = galleryImages[currentGalleryIndex].src; // æ›´æ–°å›¾ç‰‡
        gallerySignature.textContent = galleryImages[currentGalleryIndex].signature; // æ›´æ–°ç½²å
    }
    
    galleryPrev.addEventListener('click', function() {
        currentGalleryIndex = (currentGalleryIndex - 1 + galleryImages.length) % galleryImages.length;
        updateGalleryImage();
    });
    
    galleryNext.addEventListener('click', function() {
        currentGalleryIndex = (currentGalleryIndex + 1) % galleryImages.length;
        updateGalleryImage();
    });
});

// å›¾ç‰‡æ”¾å¤§æ¨¡æ€æ¡†åŠŸèƒ½
let currentModalType = null;
let currentModalIndex = 0;
let modalImageSources = [];
let modalSignatures = [];

function openImageModal(type, element) {
    const modal = document.getElementById('imageModal');
    const modalImage = document.getElementById('modalImage');
    const modalSignature = document.getElementById('modalSignature');
    const modalNavs = document.querySelectorAll('.modal-nav'); // è·å–æ‰€æœ‰å·¦å³åˆ‡æ¢æŒ‰é’®
    
    if (type === 'main') {
        // ä¸»å›¾æ¨¡å¼ï¼šè·å–æ‰€æœ‰ç¼©ç•¥å›¾æ•°æ®
        const thumbnails = document.querySelectorAll('.thumbnail');
        modalImageSources = Array.from(thumbnails).map(thumb => thumb.getAttribute('data-image'));
        modalSignatures = Array.from(thumbnails).map(thumb => thumb.getAttribute('data-signature'));
        // æ‰¾åˆ°å½“å‰ç¼©ç•¥å›¾çš„ç´¢å¼•
        const currentSrc = document.getElementById('mainCharacterImage').src;
        currentModalIndex = modalImageSources.findIndex(src => src === currentSrc);
        if (currentModalIndex === -1) currentModalIndex = 0;
        
        // æ˜¾ç¤ºå·¦å³åˆ‡æ¢æŒ‰é’®
        modalNavs.forEach(nav => nav.style.display = 'flex');
        
    } else if (type === 'gallery') {
        // å›¾é›†æ¨¡å¼ï¼šä½¿ç”¨å›¾é›†æ•°æ®
        modalImageSources = galleryImages.map(img => img.src);
        modalSignatures = galleryImages.map(img => img.signature);
        // æ‰¾åˆ°å½“å‰å›¾é›†å›¾ç‰‡çš„ç´¢å¼•
        const currentSrc = document.getElementById('galleryImage').src;
        currentModalIndex = modalImageSources.findIndex(src => src === currentSrc);
        if (currentModalIndex === -1) currentModalIndex = 0;
        
        // æ˜¾ç¤ºå·¦å³åˆ‡æ¢æŒ‰é’®
        modalNavs.forEach(nav => nav.style.display = 'flex');
        
    } else if (type === 'setting') {
        // è®¾å®šé›†å›¾ç‰‡æ¨¡å¼
        const imgElement = element.querySelector('img') || element;
        const settingName = element.closest('.settings-card').querySelector('.setting-name')?.textContent || 'è®¾å®šå›¾';
        
        modalImageSources = [imgElement.src];
        modalSignatures = [settingName];
        currentModalIndex = 0;
        
        // éšè—å·¦å³åˆ‡æ¢æŒ‰é’®
        modalNavs.forEach(nav => nav.style.display = 'none');
        
        // æ·»åŠ æ·¡å…¥åŠ¨ç”»
        modalImage.style.opacity = '0';
        setTimeout(() => {
            modalImage.style.opacity = '1';
            modalImage.style.transition = 'opacity 0.3s ease';
        }, 10);
    }
    
    currentModalType = type;
    modalImage.src = modalImageSources[currentModalIndex];
    modalSignature.textContent = modalSignatures[currentModalIndex];
    modal.style.display = 'block';
    document.body.style.overflow = 'hidden'; // é˜²æ­¢èƒŒæ™¯æ»šåŠ¨
}

function closeImageModal() {
    const modal = document.getElementById('imageModal');
    const modalNavs = document.querySelectorAll('.modal-nav');
    
    // é‡ç½®æ‰€æœ‰æŒ‰é’®ä¸ºæ˜¾ç¤ºçŠ¶æ€
    modalNavs.forEach(nav => nav.style.display = 'flex');
    
    modal.style.display = 'none';
    document.body.style.overflow = 'auto'; // æ¢å¤èƒŒæ™¯æ»šåŠ¨
    currentModalType = null; // é‡ç½®å½“å‰æ¨¡æ€æ¡†ç±»å‹
}

function changeImage(direction) {
    // å¦‚æœæ˜¯è®¾å®šé›†ç±»å‹ï¼Œä¸æ‰§è¡Œåˆ‡æ¢
    if (currentModalType === 'setting') {
        return;
    }
    
    if (currentModalType === null) return;
    
    currentModalIndex += direction;
    
    // å¾ªç¯åˆ‡æ¢
    if (currentModalIndex >= modalImageSources.length) {
        currentModalIndex = 0;
    } else if (currentModalIndex < 0) {
        currentModalIndex = modalImageSources.length - 1;
    }
    
    const modalImage = document.getElementById('modalImage');
    const modalSignature = document.getElementById('modalSignature');
    modalImage.src = modalImageSources[currentModalIndex];
    modalSignature.textContent = modalSignatures[currentModalIndex];
}

// ç‚¹å‡»ESCé”®å…³é—­æ¨¡æ€æ¡†
document.addEventListener('keydown', function(event) {
    if (event.key === 'Escape') {
        closeImageModal();
    }
    
    // å¦‚æœæ˜¯è®¾å®šé›†ç±»å‹ï¼Œä¸å“åº”å·¦å³ç®­å¤´åˆ‡æ¢
    if (currentModalType === 'setting') {
        return;
    }
    
    // å·¦å³ç®­å¤´åˆ‡æ¢å›¾ç‰‡ï¼ˆä»…é™éè®¾å®šé›†ç±»å‹ï¼‰
    if (event.key === 'ArrowLeft') {
        changeImage(-1);
        event.preventDefault(); // é˜²æ­¢æ»šåŠ¨
    } else if (event.key === 'ArrowRight') {
        changeImage(1);
        event.preventDefault(); // é˜²æ­¢æ»šåŠ¨
    }
});

// å›¾é›†æ•°æ®ï¼ˆåœ¨å…¨å±€ä½œç”¨åŸŸå®šä¹‰ï¼Œä¾›æ¨¡æ€æ¡†ä½¿ç”¨ï¼‰
const galleryImages = [
        {src: "https://aidoll-1392936919.cos.ap-guangzhou.myqcloud.com/images/characters/tomori_penguin/others_1.png", signature: "å…¶å®ƒå½¢è±¡1(å¾…ç½²å)"},
        {src: "https://aidoll-1392936919.cos.ap-guangzhou.myqcloud.com/images/characters/tomori_penguin/others_2.png", signature: "å…¶å®ƒå½¢è±¡2(å¾…ç½²å)"},
        {src: "https://aidoll-1392936919.cos.ap-guangzhou.myqcloud.com/images/characters/tomori_penguin/others_3.png", signature: "å…¶å®ƒå½¢è±¡3(å¾…ç½²å)"}
];

// è®¾å®šé›†æ•°æ®
const settingsData = 
[
    {
        id: 1,
        image: "https://aidoll-1392936919.cos.ap-guangzhou.myqcloud.com/images/characters/tomori_penguin/settings_1.png",
        name: "è®¾å®šåï¼ˆä¾‹ï¼‰",
        author: "ä½œè€…",
        authorLink: "æ­¤å¤„æ”¾å…¥ç¤¾åª’é“¾æ¥",
        platform: "bilibili",
        intro: "ä¸€å¥è¯ç®€ä»‹",
        detail: 
            `
            <h4>è§’è‰²èƒŒæ™¯</h4>
            <p>è¯·è¾“å…¥èƒŒæ™¯</p>
            
            <h4>æ—¥å¸¸è¡Œä¸º</h4>
            <ul>
                <li>è¡Œä¸º1</li>
                <li>è¡Œä¸º2</li>
            </ul>
            
            <h4>ç‰¹æ®Šä¹ æƒ¯</h4>
            <p>è¯·è¾“å…¥æ–‡æœ¬</p>

            <h4>æ›´å¤šå†…å®¹</h4>
            <p>......</p>
            `
    },
    {
        id: 2,
        image: "https://aidoll-1392936919.cos.ap-guangzhou.myqcloud.com/images/characters/tomori_penguin/settings_2.png",
        name: "è®¾å®šåï¼ˆä¾‹ï¼‰",
        author: "ä½œè€…å",
        authorLink: "æ­¤å¤„æ”¾å…¥ç¤¾åª’é“¾æ¥",
        platform: "bilibili",
        intro: "ä¸€å¥è¯ç®€ä»‹",
        detail: 
            `
            <h4>ä¹ æ€§</h4>
            <p>è¯·è¾“å…¥æ–‡æœ¬</p>
            
            <h4>æ•é£Ÿè¡Œä¸º</h4>
            <p>è¯·è¾“å…¥æ–‡æœ¬</p>
            
            <h4>è¯·è¾“å…¥æ ‡é¢˜</h4>
            <p>è¯·è¾“å…¥æ–‡æœ¬</p>

            <h4>æ›´å¤šå†…å®¹</h4>
            <p>......</p>
            `
    },
];

// å¹³å°å›¾æ ‡æ˜ å°„ - ä½¿ç”¨å¤–éƒ¨é“¾æ¥
const platformIcons = {
    bilibili: '<img src="https://img.icons8.com/ios-filled/16/000000/bilibili.png" class="platform-icon-img" alt="Bilibili">',
    twitter: '<img src="https://img.icons8.com/ios-filled/16/000000/twitter.png" class="platform-icon-img" alt="Twitter">',
    pixiv: '<img src="https://img.icons8.com/ios-filled/16/000000/picture.png" class="platform-icon-img" alt="Pixiv">'
};

let currentSettingIndex = 0;
let settingsContainer = null;

// æ–°å¢ï¼šè·Ÿè¸ªæ¯ä¸ªå¡ç‰‡çš„å±•å¼€çŠ¶æ€
let cardStates = {};

// åˆå§‹åŒ–è®¾å®šé›†
document.addEventListener('DOMContentLoaded', function() {
    // åˆå§‹åŒ–æ‰€æœ‰å¡ç‰‡çš„å±•å¼€çŠ¶æ€ä¸ºfalseï¼ˆæŠ˜å ï¼‰
    settingsData.forEach(setting => {
        cardStates[setting.id] = false;
    });
    
    renderSettingCard();
});

// æ¸²æŸ“å½“å‰è®¾å®šå¡ç‰‡
// æ¸²æŸ“å½“å‰è®¾å®šå¡ç‰‡
function renderSettingCard() {
    const setting = settingsData[currentSettingIndex];
    const isExpanded = cardStates[setting.id] || false;
    
    // ç¡®ä¿settingsContainerå­˜åœ¨
    if (!settingsContainer) {
        settingsContainer = document.querySelector('.settings-container');
        if (!settingsContainer) return;
    }
    
    const cardHTML = `
        <div class="settings-card ${isExpanded ? 'expanded' : 'collapsed'}" data-id="${setting.id}">
            <div class="settings-content ${isExpanded ? 'expanded' : 'collapsed'}">
                ${isExpanded ? `
                    <div class="expanded-top">
                        <div class="settings-image" onclick="openImageModal('setting', this)">
                            <img src="${setting.image}" alt="${setting.name}" loading="lazy">
                        </div>
                        <div class="settings-info">
                            <h3 class="setting-name">${setting.name}</h3>
                            <div class="setting-author">
                                ä½œè€…ï¼š
                                <a href="${setting.authorLink}" target="_blank" class="author-link">
                                    ${platformIcons[setting.platform] || platformIcons.bilibili}
                                    ${setting.author}
                                </a>
                            </div>
                            <p class="setting-intro">${setting.intro}</p>
                        </div>
                    </div>
                    <div class="expanded-detail">
                        <div class="detail-content">${setting.detail}</div>
                        <button class="collapse-button" onclick="toggleCard(${setting.id})">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" style="margin-right: 5px;">
                                <path d="M7 14L12 9L17 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            æ”¶èµ·è¯¦æƒ…
                        </button>
                    </div>
                ` : `
                    <div class="settings-image" onclick="openImageModal('setting', this)">
                        <img src="${setting.image}" alt="${setting.name}" loading="lazy">
                    </div>
                    <div class="settings-info">
                        <h3 class="setting-name">${setting.name}</h3>
                        <div class="setting-author">
                            ä½œè€…ï¼š
                            <a href="${setting.authorLink}" target="_blank" class="author-link">
                                ${platformIcons[setting.platform] || platformIcons.bilibili}
                                ${setting.author}
                            </a>
                        </div>
                        <p class="setting-intro">${setting.intro}</p>
                    </div>
                    <button class="expand-button" onclick="toggleCard(${setting.id})">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" style="margin-right: 5px;">
                            <path d="M7 10L12 15L17 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        å±•å¼€è¯¦æƒ…
                    </button>
                `}
            </div>
        </div>
    `;
    
    settingsContainer.innerHTML = cardHTML;
    updateIndicator();
}

// åˆ‡æ¢å¡ç‰‡å±•å¼€/æ”¶èµ·çŠ¶æ€ - ä¿®å¤ç‰ˆ
function toggleCard(cardId) {
    // å¦‚æœæ²¡æœ‰ä¼ å…¥cardIdï¼Œä½¿ç”¨å½“å‰å¡ç‰‡çš„id
    if (!cardId) {
        cardId = settingsData[currentSettingIndex].id;
    }
    
    // åˆ‡æ¢è¯¥å¡ç‰‡çš„å±•å¼€çŠ¶æ€
    cardStates[cardId] = !cardStates[cardId];
    
    // é‡æ–°æ¸²æŸ“å½“å‰å¡ç‰‡
    renderSettingCard();
}

// åˆ‡æ¢è®¾å®šå¡ç‰‡ - ä¿®å¤ç‰ˆ
function changeSettingCard(direction) {
    currentSettingIndex = (currentSettingIndex + direction + settingsData.length) % settingsData.length;
    renderSettingCard();
}

// æ›´æ–°æŒ‡ç¤ºå™¨
function updateIndicator() {
    const currentSpan = document.querySelector('.current-card');
    const totalSpan = document.querySelector('.total-cards');
    
    if (currentSpan) currentSpan.textContent = currentSettingIndex + 1;
    if (totalSpan) totalSpan.textContent = settingsData.length;
}

// æ·»åŠ å›¾ç‰‡åŠ è½½é”™è¯¯å¤„ç†
document.addEventListener('DOMContentLoaded', function() {
    // ç›‘å¬å›¾ç‰‡åŠ è½½é”™è¯¯
    document.addEventListener('error', function(e) {
        if (e.target.tagName === 'IMG' && e.target.parentElement.classList.contains('settings-image')) {
            e.target.src = 'https://via.placeholder.com/300x300/4a90e2/ffffff?text=è®¾å®šå›¾';
            console.log('è®¾å®šå›¾ç‰‡åŠ è½½å¤±è´¥ï¼Œå·²æ›¿æ¢ä¸ºå ä½å›¾');
        }
    }, true);
});

// æ·»åŠ å›¾ç‰‡åŠ è½½çŠ¶æ€å¤„ç†
document.addEventListener('DOMContentLoaded', function() {
    // ç›‘å¬è®¾å®šé›†å›¾ç‰‡çš„ç‚¹å‡»äº‹ä»¶ï¼ˆäº‹ä»¶å§”æ‰˜ï¼‰
    document.addEventListener('click', function(e) {
        // å¦‚æœç‚¹å‡»çš„æ˜¯è®¾å®šé›†å›¾ç‰‡
        if (e.target.closest('.settings-image')) {
            const imgContainer = e.target.closest('.settings-image');
            const img = imgContainer.querySelector('img');
            
            // æ·»åŠ ç‚¹å‡»åé¦ˆ
            imgContainer.style.transform = 'scale(0.95)';
            setTimeout(() => {
                imgContainer.style.transform = 'scale(1)';
            }, 150);
            
            // æ£€æŸ¥å›¾ç‰‡æ˜¯å¦å·²åŠ è½½
            if (!img.complete || img.naturalHeight === 0) {
                console.log('è®¾å®šå›¾ç‰‡æ­£åœ¨åŠ è½½...');
                // å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ åŠ è½½æŒ‡ç¤ºå™¨
            }
        }
    });
    
    // é¢„åŠ è½½è®¾å®šé›†å›¾ç‰‡ï¼Œæé«˜ç”¨æˆ·ä½“éªŒ
    function preloadSettingsImages() {
        settingsData.forEach(setting => {
            const img = new Image();
            img.src = setting.image;
        });
    }
    
    // é¡µé¢åŠ è½½åé¢„åŠ è½½å›¾ç‰‡
    setTimeout(preloadSettingsImages, 1000);
});
</script>